81. Create Admin Login, Logout form using session variables in PHP.
ANSWER
<?php
session_start();

// Define admin credentials
$admin_username = 'admin';
$admin_password = 'admin123';

// Handle logout
if (isset($_GET['logout'])) {
    session_unset();
    session_destroy();
    header("Location: " . $_SERVER['PHP_SELF']);
    exit;
}

// Handle login form
if ($_SERVER['REQUEST_METHOD'] == 'POST' && !isset($_SESSION['admin_logged_in'])) {
    $username = $_POST['username'] ?? '';
    $password = $_POST['password'] ?? '';

    if ($username === $admin_username && $password === $admin_password) {
        $_SESSION['admin_logged_in'] = true;
        $_SESSION['admin_username'] = $username;
        header("Location: " . $_SERVER['PHP_SELF']);
        exit;
    } else {
        $error = "âŒ Invalid username or password.";
    }
}
?>

<!DOCTYPE html>
<html>
<head>
    <title>Admin Login System (Single Page)</title>
</head>
<body>
    <?php if (isset($_SESSION['admin_logged_in']) && $_SESSION['admin_logged_in'] === true): ?>
        <!-- Logged In View -->
        <h2>Welcome, <?= htmlspecialchars($_SESSION['admin_username']) ?>!</h2>
        <p>You are logged in as <strong>admin</strong>.</p>
        <a href="?logout=true">Logout</a>

    <?php else: ?>
        <!-- Login Form View -->
        <h2>Admin Login</h2>

        <?php if (isset($error)): ?>
            <p style="color:red;"><?= $error ?></p>
        <?php endif; ?>

        <form method="post" action="">
            Username: <input type="text" name="username" required><br><br>
            Password: <input type="password" name="password" required><br><br>
            <input type="submit" value="Login">
        </form>
    <?php endif; ?>
</body>
</html>

OUTPUT
Admin Login
Username: 
Password: 



